{% block content %}
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        scroll-behavior: smooth;
        background-color: gray;
        background-image: url('/static/images/cri.jpeg');
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
    }

    /* Animated Gradient Navbar */
    .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        background: linear-gradient(270deg, #000, #1a1a40, #000);
        background-size: 600% 600%;
        animation: navbarGradient 10s ease infinite;
        backdrop-filter: blur(8px);
        padding: 15px 0;
        text-align: center;
        box-shadow: 0px 4px 10px rgba(255, 255, 255, 0.2);
        z-index: 1000;
    }

    @keyframes navbarGradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    .navbar a {
        color: white;
        text-decoration: none;
        font-size: 1.2rem;
        font-weight: 600;
        padding: 12px 18px;
        display: inline-block;
        transition: 0.3s ease-in-out;
        border-radius: 5px;
        position: relative;
    }

    .navbar a:hover {
        background: blue;
        color: yellow;
        box-shadow: 0 0 10px rgba(0, 0, 255, 0.6);
    }

    .navbar a::after {
        content: '';
        position: absolute;
        width: 0%;
        height: 2px;
        left: 0;
        bottom: -4px;
        background: yellow;
        transition: 0.4s ease-in-out;
    }

    .navbar a:hover::after {
        width: 100%;
    }

    /* Container */
    .container {
        background: rgba(255, 255, 255, 0.95);
        padding: 30px;
        box-shadow: 0 0 12px rgba(0, 0, 0, 0.15);
        border-radius: 10px;
        width: 60%;
        margin-top: 80px;
        background-image: url('/static/main.jpeg');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        text-align: center;
        animation: fadeIn 1.5s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    h3 {
        color: #151718;
        margin-bottom: 20px;
    }

    select {
        padding: 10px;
        font-size: 18px;
        margin: 10px auto;
        border-radius: 6px;
        display: block;
        width: 80%;
        border: 1px solid #aaa;
        background-color: white;
        transition: border-color 0.3s;
    }

    select:focus {
        outline: none;
        border-color: #0077ff;
    }

    button {
        background-color: #111311;
        color: white;
        border: none;
        padding: 12px 24px;
        font-size: 18px;
        border-radius: 6px;
        cursor: pointer;
        width: 50%;
        transition: background-color 0.3s, box-shadow 0.3s;
    }

    button:hover {
        background-color: #0f1210;
        box-shadow: 0 0 12px rgba(0, 255, 255, 0.3);
    }

    .team {
        display: inline-block;
        width: 45%;
        vertical-align: top;
        margin-top: 10px;
        background-color: rgba(255, 255, 255, 0.7);
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 0 6px rgba(0, 0, 0, 0.1);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .container {
            width: 90%;
            padding: 20px;
            margin-top: 100px;
        }

        .navbar a {
            font-size: 1rem;
            padding: 10px;
        }

        select, button {
            width: 100%;
            font-size: 16px;
        }

        .team {
            width: 100%;
            margin-bottom: 15px;
        }
    }
</style>

<div class="navbar">
    <a href="{% url 'home' %}">HOME</a>
    <a href="{% url 'predict_player' %}">AI</a>
    <a href="{% url 'home' %}#schedule">SCHEDULE</a>
    <a href="{% url 'prediction_view' %}">PREDICTION</a>
    <a href="{% url 'overall_winner'%}">OVERALL PREDICTION</a>
    <a href="{% url 'contact_us' %}">CONTACT US</a>

</div>

<div class="container">
    <h3>Select Teams</h3>
    <form action="{% url 'select_teams' %}" method="POST">
        {% csrf_token %}
        <label for="team1">Select Team 1:</label>
        <select id="team1" name="team1" required>
            <option value="">--Select Team--</option>
            <option value="RCB">RCB</option>
            <option value="MI">MI</option>
            <option value="CSK">CSK</option>
            <option value="DC">DC</option>
            <option value="PBKS">PBKS</option>
            <option value="KKR">KKR</option>
            <option value="SRH">SRH</option>
            <option value="RR">RR</option>
            <option value="LSG">LSG</option>
            <option value="GT">GT</option>
        </select>
        
        <label for="team2">Select Team 2:</label>
        <select id="team2" name="team2" required>
            <option value="">--Select Team--</option>
            <option value="RCB">RCB</option>
            <option value="MI">MI</option>
            <option value="CSK">CSK</option>
            <option value="DC">DC</option>
            <option value="PBKS">PBKS</option>
            <option value="KKR">KKR</option>
            <option value="SRH">SRH</option>
            <option value="RR">RR</option>
            <option value="LSG">LSG</option>
            <option value="GT">GT</option>
        </select>
        <br><br>
        <button type="submit">Next</button>
    </form>
</div>

{% if show_players %}
<div class="container">
    <h3>Player Selection (Auto-Selected)</h3>
    <form action="{% url 'submit_players' %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="team1" value="{{ team1 }}">
        <input type="hidden" name="team2" value="{{ team2 }}">

        <div class="team">
            <h4>{{ team1 }} Players</h4>
            {% for player in team1_players %}
                <label>Player {{ forloop.counter }}:</label>
                <select name="team1_player{{ forloop.counter }}">
                    {% for available_player in all_team1_players %}
                        <option value="{{ available_player }}" {% if available_player == player %}selected{% endif %}>
                            {{ available_player }}
                        </option>
                    {% endfor %}
                </select>
                <br>
            {% endfor %}
        </div>
        
        <div class="team">
            <h4>{{ team2 }} Players</h4>
            {% for player in team2_players %}
                <label>Player {{ forloop.counter }}:</label>
                <select name="team2_player{{ forloop.counter }}">
                    {% for available_player in all_team2_players %}
                        <option value="{{ available_player }}" {% if available_player == player %}selected{% endif %}>
                            {{ available_player }}
                        </option>
                    {% endfor %}
                </select>
                <br>
            {% endfor %}
        </div>
        
        <br>
        <button type="submit">Submit Players</button>
        
    </form>
</div>
{% endif %}



{% if show_batting_selection %}

<div class="container">
    <h3>Overall Team Ratings(/5)</h3>
    <p><strong>{{ team1 }}</strong>: {{ team1_rating }}</p>
    <p><strong>{{ team2 }}</strong>: {{ team2_rating }}</p>
</div>
<div class="container">
    <p></p>
    <h3>Select Predicting Type</h3>
    <form action="{% url 'batting_selection' %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="team1" value="{{ team1 }}">
        <input type="hidden" name="team2" value="{{ team2 }}">

        <label for="batting_order">Choose Predicting Type:</label>
        <select name="batting_order" id="batting_order" required onchange="handleBattingSelection()">
            <option value="">-- Select --</option>
            <option value="batting_first">Batting First</option>
            <option value="batting_second">Batting Second</option>
        </select>

        <br><br>
        <div id="battingFirstSelection" style="display: none;">
            <label for="batting_first">Who will Bat First?</label>
            <select name="batting_first" id="batting_first">
                <option value="">-- Select Team --</option>
                <option value="{{ team1 }}">{{ team1 }}</option>
                <option value="{{ team2 }}">{{ team2 }}</option>
            </select>
            <br><br>
        </div>

        <div id="battingSecondSelection" style="display: none;">
            <label for="batting_first">Who will Bat First?</label>
            <select name="batting_first" id="batting_first">
                <option value="">-- Select Team --</option>
                <option value="{{ team1 }}">{{ team1 }}</option>
                <option value="{{ team2 }}">{{ team2 }}</option>
            </select>
            <br><br>
        </div>

        <button type="submit">Submit</button>
    </form>
</div>

<script>
    function handleBattingSelection() {
        var battingOrder = document.getElementById("batting_order").value;
        var battingFirstSelection = document.getElementById("battingFirstSelection");
        var battingSecondSelection = document.getElementById("battingSecondSelection");

        if (battingOrder === "batting_first") {
            battingFirstSelection.style.display = "block";
            battingSecondSelection.style.display = "none";
        } else if (battingOrder === "batting_second") {
            battingFirstSelection.style.display = "none";
            battingSecondSelection.style.display = "block";
        } else {
            battingFirstSelection.style.display = "none";
            battingSecondSelection.style.display = "none";
        }
    }
</script>
{% endif %}
{% endblock %}
